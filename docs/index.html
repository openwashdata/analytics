<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (Title Case) • analytics</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (Title Case)">
<meta property="og:description" content="More about what it does (maybe more than one line) Use four spaces when indenting paragraphs within the Description.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">analytics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Examples.html">Examples</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="analytics">analytics<a class="anchor" aria-label="anchor" href="#analytics"></a>
</h1></div>
<p>The goal of <code>analytics</code> is to provide an easy way to access and analyze “dark” data generated before, during, and after the Data Science for Open Wash Data Course.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>To install the package, you can use the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"openwashdata/analytics"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── R CMD build ─────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; * checking for file ‘/private/var/folders/q2/thf5k95955q8kn6twjrwljbr00jms0/T/RtmpFxjxao/remotesfda540e67cf3/openwashdata-analytics-d6c7304d3c4ef0168740664ab0f63cf2f1f787ea/DESCRIPTION’ ... OK</span></span>
<span><span class="co">#&gt; * preparing ‘analytics’:</span></span>
<span><span class="co">#&gt; * checking DESCRIPTION meta-information ... OK</span></span>
<span><span class="co">#&gt; * checking for LF line-endings in source and make files and shell scripts</span></span>
<span><span class="co">#&gt; * checking for empty or unneeded directories</span></span>
<span><span class="co">#&gt; * building ‘analytics_0.1.0.tar.gz’</span></span>
<span><span class="co">#&gt; Warning: invalid uid value replaced by that for user 'nobody'</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="what-is-this-package-for">What is this package for?<a class="anchor" aria-label="anchor" href="#what-is-this-package-for"></a>
</h2>
<p>The Data Science for Open WASH Data Course conducted by Global Health Engineering (GHE) at ETH Zürich generates data on participants’ engagement with the course, previous experiences with programming and take-aways from the course. This package makes it easier to access data stored in a variety of formats and provide a consolidate storage for it. In the future, this data will be used to provide an overview of the impact of the course.</p>
<div class="section level3">
<h3 id="who-should-use-this-package">Who should use this package?<a class="anchor" aria-label="anchor" href="#who-should-use-this-package"></a>
</h3>
<p>In short, anyone can use this package. However, access to raw data is restricted to members of GHE and those invited by members of GHE. A data package with data from the first iteration of the course will be available soon. This data has been anonymized and can be used by anyone.</p>
</div>
</div>
<div class="section level2">
<h2 id="where-is-the-data-retrieved-from">Where is the data retrieved from?<a class="anchor" aria-label="anchor" href="#where-is-the-data-retrieved-from"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Google Drive: The GHE shared google drive collects data from survey responses. This data is stored in Google Sheets.</p></li>
<li><p>Posit Cloud: Data about usage of a shared Posit Cloud space is retrieved from Posit cloud. The shared space was accessible to all course participants.</p></li>
<li><p>Plausible: The website for the course is hosted on Plausible. Data about visitors, locations of visits and other trends in user interactions with the website are retrieved from Plausible.</p></li>
<li><p>Github: Data from the course is also present on Github. This is generally course participants’ locations. This is anonymized.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="permissions-and-api-keys">Permissions and API Keys<a class="anchor" aria-label="anchor" href="#permissions-and-api-keys"></a>
</h2>
<p>Certain permissions and API Keys are needed to access the data.</p>
<ol style="list-style-type: decimal">
<li>Google Drive:</li>
</ol>
<ul>
<li>A gmail account (username and password) with access to the relevant sheets OR</li>
<li>A google service account with at least <code>read</code> access to the Google Sheet you need to read.</li>
<li>If logging in for the first time, you will be prompted to authenticate your account and provide access permissions to the <code>googledrive</code> library</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Posit Cloud:</li>
</ol>
<ul>
<li>A posit cloud account</li>
<li>Access to the data science for open wash data course space on Posit Cloud</li>
<li><a href="https://docs.posit.co/connect/user/api-keys/" class="external-link">An API key with access to read data from the course space</a></li>
<li>
<strong>Note</strong>: This code utilises the rscloud library which handles authentication silently. There is no need to pass API keys to the function but one needs to be generated. If required, please use <code>rscloud_whoami()</code> to re-authenticate</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Plausible:</li>
</ol>
<ul>
<li><a href="https://plausible.io/docs/stats-api#get-apiv1statsbreakdown" class="external-link">API key with access to read analytics data from Plausible</a></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Github:</li>
</ol>
<ul>
<li>A github account with access to the repository where the data is stored</li>
<li><a href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token" class="external-link">A personal access token with repo scope to access the data</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="shared-database">Shared Database<a class="anchor" aria-label="anchor" href="#shared-database"></a>
</h2>
<p>All data pulled by this library is also available in a postgres database. Access to this database is limited. If you have the username and password for this data, you can access it directly using your credentials.</p>
<p>On the other hand, you can also write to the database. This function also cleans and archives old data. Write and Delete permission to the database is required for this.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>For detailed usage of and documentation of each function, please refer to the vignettes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">analytics</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/" class="external-link">httr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jeroen.r-universe.dev/jsonlite" class="external-link">jsonlite</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://googledrive.tidyverse.org" class="external-link">googledrive</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://googlesheets4.tidyverse.org" class="external-link">googlesheets4</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_plausible_data.html">get_plausible_data</a></span><span class="op">(</span>site_url<span class="op">=</span><span class="st">"ds4owd-001.github.io/website"</span>, pagewise<span class="op">=</span><span class="cn">TRUE</span>, token<span class="op">=</span><span class="st">"SECRET_PLAUSIBLE_TOKEN"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_survey_data.html">get_survey_data</a></span><span class="op">(</span>sheet_url<span class="op">=</span><span class="st">"docs.google.com/spreadsheets"</span>, email<span class="op">=</span><span class="st">"yourname@ethz.ch"</span>, n_course_modules<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_pscloud_data.html">get_pscloud_data</a></span><span class="op">(</span>space_id<span class="op">=</span><span class="st">"12345"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="requirements">Requirements<a class="anchor" aria-label="anchor" href="#requirements"></a>
</h2>
<p>R libraries utilized in the code are: - <code>RPostgres</code> - <code>googledrive</code> - <code>googlesheets4</code> - <code>rscloud</code> - <code>httr</code> - <code>jsonlite</code> - <code>lubridate</code> - <code>tidyverse</code></p>
<p>Other standard libraries should already be installed in your default R environment.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=analytics" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing analytics</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>The package maintainer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
